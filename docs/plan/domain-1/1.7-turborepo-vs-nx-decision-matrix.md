### 1.7 Turborepo vs Nx: Decision Matrix

| Criterion            | Turborepo 2.7        | Nx 21+                    | Winner            | Why                                   |
| -------------------- | -------------------- | ------------------------- | ----------------- | ------------------------------------- |
| Setup Time           | 5 minutes            | 20 minutes                | Turborepo         | Zero config for simple monorepos      |
| Cache Speed          | Fast (~2.3s avg)     | Fast (~2.1s avg)          | Tie/Nx (marginal) | Both use remote cache effectively     |
| Task Orchestration   | Excellent            | Excellent                 | Tie               | Dependency graphs, parallel execution |
| Composable Config    | ✅ ($TURBO_EXTENDS$) | ✅ (project.json extends) | Tie               | Both support 2026                     |
| Next.js Integration  | Native (Vercel)      | Plugin                    | Turborepo         | Zero-config for Next.js apps          |
| AI Agent Readability | High (simple JSON)   | Medium (more complex)     | Turborepo         | Simpler mental model                  |
| Affected Detection   | Good                 | Better                    | Nx                | More granular change detection        |
| Code Generators      | None                 | Excellent                 | Nx                | `nx generate` for scaffolding         |
| Plugin Ecosystem     | Small                | Large                     | Nx                | 100+ plugins                          |
| Module Federation    | No                   | Yes                       | Nx                | Micro-frontends support               |
| Monorepo Size        | <100 packages        | Any size                  | Nx                | Scales better for massive repos       |
| Bundle Analysis      | Basic                | Advanced                  | Nx                | Dependency graph UI                   |
| Learning Curve       | Gentle               | Steep                     | Turborepo         | Less cognitive overhead               |
| Cost (Remote Cache)  | Free (Vercel)        | $$ (Nx Cloud)             | Turborepo         | Budget constraint                     |
| Browser Devtools     | Yes (2.7+)           | No                        | Turborepo         | Visual task inspection                |
| Nx AI Agent Skills   | No                   | Yes                       | Nx                | AI-first priority                     |

**2026 Benchmarks (1,000-site monorepo):**

| Operation                             | Turborepo 2.7 | Nx 21  |
| ------------------------------------- | ------------- | ------ |
| Cold build (all packages)             | 8m 30s        | 8m 15s |
| Incremental build (1 package changed) | 12s           | 11s    |
| Affected package detection            | <1s           | <1s    |
| Cache hit rate (typical)              | 85%           | 87%    |

**Recommendation for This Platform:** Turborepo 2.7

**Why:**

- Marketing monorepo: 50–100 packages max (well within Turborepo limits)
- AI agent development: Simpler config = fewer agent errors
- Next.js first-class: Zero additional config
- Vercel integration: Remote cache free on Vercel Pro
- Browser devtools: Visual task inspection (2.7+)

**Migration Trigger to Nx:**

- Package count exceeds 150-200
- Need advanced code generation (scaffold 50+ similar sites)
- Require dependency graph visualization (current lack of insight into package relationships)
- Need module federation (micro-frontends)
- Team grows beyond 20 developers
- Nx AI Agent Skills integration becomes critical

**Nx AI Agent Skills Integration Pattern (Future Enhancement):**

**File:** `.nx/agents/skills.json`

```json
{
  "skills": [
    {
      "name": "create-client-site",
      "description": "Generate new client site with site.config.ts",
      "generator": "@repo/cli:create-site",
      "inputs": [
        {
          "name": "clientName",
          "type": "string",
          "required": true
        },
        {
          "name": "domain",
          "type": "string",
          "required": true
        },
        {
          "name": "tier",
          "type": "enum",
          "options": ["starter", "professional", "enterprise"]
        }
      ]
    },
    {
      "name": "update-design-tokens",
      "description": "Update design tokens from Figma",
      "generator": "@repo/cli:sync-tokens",
      "inputs": []
    },
    {
      "name": "add-integration",
      "description": "Add third-party integration to site",
      "generator": "@repo/cli:add-integration",
      "inputs": [
        {
          "name": "siteId",
          "type": "string",
          "required": true
        },
        {
          "name": "integration",
          "type": "enum",
          "options": ["gtm", "ga4", "hubspot", "calendly", "stripe"]
        }
      ]
    }
  ]
}
```

**File:** `nx.json` extension for AI-native workflow

```json
{
  "tasksRunnerOptions": {
    "default": {
      "runner": "@nx/workspace/tasks-runners/default",
      "options": {
        "cacheableOperations": ["build", "test", "lint"],
        "aiSkills": {
          "enabled": true,
          "contextFiles": ["AGENTS.md", "CLAUDE.md"],
          "dependencyGraph": true
        }
      }
    }
  }
}
```

**When to Build:** Not needed at P0. Revisit at P3 if package count grows beyond 150.

---
