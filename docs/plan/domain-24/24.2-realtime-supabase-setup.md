# 24.2 Realtime Supabase Setup

**Enabling Realtime on the `leads` table (migration):**

```sql
-- Supabase migration: enable realtime on leads table
-- Must enable via replication, NOT just the Realtime toggle in dashboard

-- Step 1: Add table to Supabase Realtime publication
ALTER PUBLICATION supabase_realtime ADD TABLE leads;

-- Step 2: RLS policy for Realtime (same policies as REST — automatically respected)
-- This policy ensures the JWT's tenantId claim matches the tenant_id column
-- (Policy defined in Domain 4 — this is a reminder it covers Realtime too)

-- Step 3: Enable realtime for bookings too
ALTER PUBLICATION supabase_realtime ADD TABLE bookings;
```
