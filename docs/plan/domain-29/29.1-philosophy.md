### 29.1 Philosophy

**What it is:** The settings section of the portal — where clients update their business info, branding, contact details, integrations, and notification preferences. Every field maps to a path in `site.config`, and changes are persisted via Server Actions with Zod validation, optimistic UI, and deep-merge into the JSONB config column. [nextjs](https://nextjs.org/docs/14/app/building-your-application/data-fetching/server-actions-and-mutations)

**Architecture — one schema per settings section:**
Rather than one giant settings form (unmaintainable), settings are split into sections (`identity`, `branding`, `contact`, `hours`, `integrations`, `notifications`). Each section is its own form with its own Zod schema and Server Action. This gives clean error boundaries, granular `revalidateTag` calls, and independent loading states.

---
