### 6.1 Philosophy

**What it is:** The data layer coordinates four data stores: Supabase Postgres (source of truth), Supabase Realtime (subscriptions), PgBouncer/Supavisor (connection pooling), and optionally PGlite WASM (offline-capable forms).

**Why it matters:** At 50+ tenants, uncontrolled database connections can exhaust Postgres `max_connections` (default: 100 on Supabase free tier, 500 on Pro). Every concurrent SSR page render opens a connection. Without pooling, 20 concurrent visitors across 5 tenants = 100 connections = Postgres at capacity.

**When to build:** **P0** â€” Connection pooling before first production tenant.
