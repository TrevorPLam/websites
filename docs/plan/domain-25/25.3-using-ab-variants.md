# 25.3 Using A/B Variants in Server Components

```typescript
// Example: A/B test two hero section variants on the homepage

import { getABVariant } from '@repo/analytics/ab-testing';

// Hero A: Text-focused, headline + subheadline + CTA
async function HeroVariantA({ config }: { config: SiteConfig }) {
  return (
    <section className="py-20 px-6 bg-white text-center">
      <h1 className="text-5xl font-extrabold text-gray-900 mb-4">
        {config.identity.tagline}
      </h1>
      <p className="text-xl text-gray-500 mb-8 max-w-2xl mx-auto">
        {config.identity.description}
      </p>
      <CallToActionButtons config={config} />
    </section>
  );
}

// Hero B: Image-focused, full-bleed with overlaid text
async function HeroVariantB({ config }: { config: SiteConfig }) {
  return (
    <section
      className="relative min-h-[70vh] flex items-center justify-center bg-gray-900"
      style={{ backgroundImage: `url(${config.assets?.heroImage})`, backgroundSize: 'cover' }}
    >
      <div className="absolute inset-0 bg-black/50" aria-hidden="true" />
      <div className="relative z-10 text-center text-white px-6">
        <h1 className="text-6xl font-extrabold mb-4">{config.identity.tagline}</h1>
        <CallToActionButtons config={config} variant="white" />
      </div>
    </section>
  );
}

// In homepage Server Component:
export default async function HomePage({ config }: { config: SiteConfig }) {
  const heroVariant = await getABVariant('hero-layout-test-v1');

  return (
    <>
      {heroVariant === 'variant-b' ? (
        <HeroVariantB config={config} />
      ) : (
        // 'control' or null â†’ always show control
        <HeroVariantA config={config} />
      )}
      {/* Rest of page */}
    </>
  );
}
```
