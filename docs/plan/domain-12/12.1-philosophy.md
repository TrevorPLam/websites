### 12.1 Philosophy

**What it is:** Serverless functions on Vercel have a 60-second execution limit (Pro plan). Any task that might exceed that limit — bulk email sends, lead export generation, GDPR deletion, image processing, CRM sync — must be offloaded to a background job queue. [webrunner](https://www.webrunner.io/blog/best-practices-for-setting-up-next-js-background-jobs)

**Why QStash:** Upstash QStash is an HTTP-based message queue built for serverless. It delivers messages to your API endpoints with retries, scheduling, and exactly-once delivery guarantees. Unlike Redis queues, QStash works without a persistent worker process — the queue is durable in Upstash's infrastructure and your Vercel function wakes up when called. [supastarter](https://supastarter.dev/docs/nextjs/tasks/qstash)

**When to use background jobs:**

- Tasks that could take >10 seconds
- Tasks that must retry on failure (email sends, CRM sync)
- Tasks with schedule requirements (daily digests, weekly reports)
- GDPR deletion (timed to run 30 days after cancellation)

---
