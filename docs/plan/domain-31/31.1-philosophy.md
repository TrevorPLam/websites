### 31.1 Philosophy

**What it is:** Service business field workers (plumbers at a job site, HVAC techs in a basement) often operate in low-connectivity environments. A service worker + Background Sync API queues form submissions offline in IndexedDB and replays them automatically when connectivity returns — zero data loss. [nextjs](https://nextjs.org/docs/app/guides/progressive-web-apps)

**Why Background Sync, not just `localStorage`:** `localStorage` persists data across page loads but cannot automatically trigger a network retry without the user reopening the app. Background Sync uses the OS-level network state event — the submission fires even if the user has closed the browser tab, as soon as connectivity returns. [digitalapplied](https://www.digitalapplied.com/blog/progressive-web-apps-2026-pwa-performance-guide)

**Service worker strategy — two layers:**

1. **App shell caching** (Workbox `StaleWhileRevalidate`) — contact form HTML/JS/CSS served instantly from cache, updated in background
2. **POST queue** (Workbox `BackgroundSyncPlugin`) — failed contact form POST requests queued in IndexedDB and retried when online [youtube](https://www.youtube.com/watch?v=unnBfDeQYQM)

---
