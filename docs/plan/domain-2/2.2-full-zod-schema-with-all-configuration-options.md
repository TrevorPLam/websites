### 2.2 Full Zod Schema with All Configuration Options

**File:** `packages/config-schema/src/schema.ts`

```typescript
import { z } from 'zod';

// ============================================================================
// IDENTITY
// ============================================================================

export const IdentitySchema = z.object({
  // Unique identifier (UUID or lowercase alphanumeric + hyphens)
  tenantId: z.string().regex(/^[a-z0-9-]+$/, 'Lowercase alphanumeric with hyphens'),
  tenantSlug: z.string().min(3).max(50).regex(/^[a-z0-9-]+$/, 'Must be lowercase alphanumeric with hyphens').optional(),

  // Display name
  siteName: z.string().min(1).max(100),

  // Legal business name
  businessName: z.string().min(1).max(200),
  legalBusinessName: z.string().min(1).max(200).optional(),
  legalName: z.string().optional(),

  // Tagline for hero sections
  tagline: z.string().max(200).optional(),

  // Domain configuration
  domain: z.object({
    // Primary domain
    primary: z.string().regex(/^[a-z0-9-]+\.[a-z]{2,}$/, 'Invalid domain format'),

    // Subdomain: tenant-slug.platform.com
    subdomain: z.string().regex(/^[a-z0-9-]+$/, 'Invalid subdomain'),

    // Custom domains
    customDomain: z.string().optional(),
    customDomains: z.array(z.string().regex(/^[a-z0-9-]+\.[a-z]{2,}$/)).optional(),

    // Path-based: platform.com/tenant-slug (not recommended for marketing)
    pathBased: z.boolean().default(false),
  }),

  // Contact information
  contact: z.object({
    email: z.string().email(),
    phone: z.string().regex(/^\+?[1-9]\d{1,14}$/, 'E.164 format required'),
    address: z.object({
      street: z.string(),
      city: z.string(),
      state: z.string().length(2), // US state code
      zip: z.string().regex(/^\d{5}(-\d{4})?$/),
      country: z.string().length(2).default('US'), // ISO 3166-1 alpha-2
    }),
  }),
});

// ============================================================================
// THEME & BRANDING
// ============================================================================

const ColorTokenSchema = z.string().regex(/^#[0-9A-Fa-f]{6}$/, 'Must be hex color');

export const ThemeSchema = z.object({
  // Logo URLs
  logo: z.object({
    light: z.string().url(), // Logo for light backgrounds
    dark: z.string().url(), // Logo for dark backgrounds
    favicon: z.string().url(),
    appleTouch: z.string().url().optional(),
    appleTouchIcon: z.string().url().optional(),
  }),

  // Color palette (Tailwind CSS v4 tokens)
  colors: z.object({
    primary: ColorTokenSchema,
    secondary: ColorTokenSchema,
    accent: ColorTokenSchema.optional(),
    neutral: ColorTokenSchema.optional(),
    background: ColorTokenSchema,
    foreground: ColorTokenSchema,
    text: ColorTokenSchema.optional(),
    muted: ColorTokenSchema.optional(),
    success: ColorTokenSchema.default('#10b981'),
    error: ColorTokenSchema.default('#ef4444'),
    warning: ColorTokenSchema.default('#f59e0b'),
  }).optional(),

  // Color palette (alternative structure)
  colorPalette: z.object({
    primary: ColorTokenSchema,
    secondary: ColorTokenSchema,
    accent: ColorTokenSchema,
    neutral: ColorTokenSchema,
    background: ColorTokenSchema,
    foreground: ColorTokenSchema,
  }).optional(),

  // Typography
  fonts: z.object({
    heading: z.string().default('Inter'),
    body: z.string().default('Inter'),
    mono: z.string().default('Fira Code'),
  }).optional(),

  typography: z.object({
    fontFamily: z.object({
      heading: z.string().default('Inter, sans-serif'),
      body: z.string().default('Inter, sans-serif'),
      headingFont: z.string().optional(),
      bodyFont: z.string().optional(),
      monoFont: z.string().optional(),
    }),
    scale: z.object({
      base: z.number().default(16), // px
      ratio: z.number().default(1.25), // Type scale multiplier
    }),
    fontScale: z.enum(['tight', 'normal', 'relaxed']).default('normal'),
  }),

  spacing: z.object({
    base: z.number().default(4), // px, Tailwind default
  }),

  borderRadius: z.object({
    sm: z.string().default('0.25rem'),
    md: z.string().default('0.5rem'),
    lg: z.string().default('0.75rem'),
    xl: z.string().default('1rem'),
    full: z.string().default('9999px'),
  }),

  // Brand data attribute for theming (injected into <html data-brand="...">)
  brandAttribute: z.string().optional(),

  // Escape hatch for advanced styling
  customCSS: z.string().max(10000).optional(),
});

// ============================================================================
// BUSINESS INFORMATION (Local SEO)
// ============================================================================

const AddressSchema = z.object({
  street: z.string(),
  city: z.string(),
  state: z.string(),
  zip: z.string(),
  country: z.string().default('US'),
  lat: z.number().optional(),
  lng: z.number().optional(),
});

const BusinessHoursSchema = z.object({
  monday: z.string().optional(), // "9:00 AM - 5:00 PM"
  tuesday: z.string().optional(),
  wednesday: z.string().optional(),
  thursday: z.string().optional(),
  friday: z.string().optional(),
  saturday: z.string().optional(),
  sunday: z.string().optional(),
});

const HoursOfOperationSchema = z.array(
  z.object({
    dayOfWeek: z.enum([
      'Monday',
      'Tuesday',
      'Wednesday',
      'Thursday',
      'Friday',
      'Saturday',
      'Sunday',
    ]),
    opens: z.string().regex(/^\d{2}:\d{2}$/), // HH:MM (24-hour)
    closes: z.string().regex(/^\d{2}:\d{2}$/),
  })
);

export const BusinessInfoSchema = z.object({
  // NAP (Name, Address, Phone) - critical for local SEO
  address: AddressSchema.optional(),
  phone: z.string().optional(),
  email: z.string().email().optional(),

  // Business type for schema.org
  type: z.enum([
    'LocalBusiness',
    'Restaurant',
    'Attorney',
    'LegalService',
    'MedicalBusiness',
    'HomeAndConstructionBusiness',
    'ProfessionalService',
    'Store',
    'HealthAndBeautyBusiness',
  ]),
  businessType: z.enum([
    'Attorney',
    'Restaurant',
    'HomeAndConstructionBusiness',
    'MedicalBusiness',
    'ProfessionalService',
    'LocalBusiness', // Fallback
  ]).default('LocalBusiness').optional(),

  // Category
  category: z.string().optional(),
  industry: z.string().optional(),

  // Description
  description: z.string().min(50).max(500).optional(),

  // Year established
  yearEstablished: z.number().int().min(1800).max(new Date().getFullYear()).optional(),

  // Hours
  hours: BusinessHoursSchema.optional(),
  hoursOfOperation: HoursOfOperationSchema.optional(),

  // Multi-location support
  locations: z.array(
    z.object({
      id: z.string(),
      name: z.string(),
      address: AddressSchema,
      phone: z.string(),
      hours: BusinessHoursSchema.optional(),
      isPrimary: z.boolean().default(false),
    })
  ).optional(),

  multiLocation: z.array(
    z.object({
      name: z.string(),
      address: AddressSchema,
      phone: z.string().regex(/^\+?[1-9]\d{1,14}$/),
      hours: HoursOfOperationSchema.optional(),
    })
  ).optional(),

  // Service area (for service area businesses)
  serviceArea: z.array(z.string()).optional(), // ["Dallas", "Fort Worth", "Plano"]

  // Service area (alternative structure)
  serviceArea: z.object({
    type: z.enum(['City', 'State', 'Country', 'Radius']),
    value: z.string(), // e.g., "Dallas, TX" or "50 miles"
    radius: z.number().optional(), // miles
    cities: z.array(z.string()).optional(),
    states: z.array(z.string()).optional(),
  }).optional(),

  // Price range
  priceRange: z.enum(['$', '$$', '$$$', '$$$$']).optional(),

  // Payment methods
  acceptsReservations: z.boolean().optional(),
  paymentAccepted: z.array(z.string()).optional(),
  acceptedPaymentMethods: z.array(z.enum(['Cash', 'Credit Card', 'Debit Card', 'Check', 'PayPal', 'Venmo'])).optional(),
});

// ============================================================================
// SEO CONFIGURATION
// ============================================================================

export const SEOSchema = z.object({
  // Default meta
  title: z.string().min(10).max(60), // Optimal: 50-60 chars
  defaultTitle: z.string().optional(),
  titleTemplate: z.string().default('%s | {siteName}'),

  // Description
  description: z.string().min(50).max(160), // Optimal: 150-160 chars
  defaultDescription: z.string().max(160).optional(),

  // Keywords
  keywords: z.array(z.string()).max(10).optional(), // Deprecated but some clients want it

  // Open Graph
  ogImage: z.string().url().optional(),

  // Twitter
  twitterHandle: z.string().regex(/^@\w{1,15}$/).optional(),

  // Canonical
  canonical: z.string().url().optional(),
  canonicalBase: z.string().url().optional(),

  // Indexing
  noindex: z.boolean().default(false), // Prevent indexing (staging sites)

  // Site verification
  googleSiteVerification: z.string().optional(),
  bingSiteVerification: z.string().optional(),

  // hreflang for bilingual sites
  languages: z.array(
    z.object({
      code: z.string(), // "en-US", "es-US"
      default: z.boolean().default(false),
    })
  ).default([{ code: 'en-US', default: true }]).optional(),

  hreflang: z.array(
    z.object({
      locale: z.string(), // BCP 47
      url: z.string().url(),
    })
  ).optional(),

  // Structured data
  structuredData: z.object({
    enabled: z.boolean().default(true),
    logo: z.string().url().optional(),
    socialProfiles: z.array(z.string().url()).optional(),
    enableLocalBusiness: z.boolean().default(true),
    enableBreadcrumbs: z.boolean().default(true),
    enableFAQPage: z.boolean().default(false),
    enableArticle: z.boolean().default(false), // Blog posts
  }).optional(),

  // Generative Engine Optimization (GEO)
  geo: z.object({
    enableLLMsTxt: z.boolean().default(true), // /.well-known/llms.txt
    enableAIContext: z.boolean().default(true), // /ai-context.json
    enableFAQSchema: z.boolean().default(true), // JSON-LD FAQPage
    contentPattern: z.enum(['BLUF', 'standard']).default('BLUF'), // Bottom Line Up Front
  }).optional(),

  // AI bot control
  blockAIBots: z.array(z.enum(['GPTBot', 'ChatGPT-User', 'Google-Extended', 'anthropic-ai', 'ClaudeBot'])).default([]).optional(),

  aiControlPreferences: z.object({
    allowCrawling: z.boolean().default(true), // GPTBot, Claude-Web, Bard
    llmsTxt: z.boolean().default(true), // Generate /.well-known/llms.txt
    aiContextJson: z.boolean().default(true), // GEO optimization
  }),

  // Sitemap
  sitemapChangeFreq: z.enum(['daily', 'weekly', 'monthly']).default('weekly'),
  sitemapPriority: z.number().min(0).max(1).default(0.7),
});

// ============================================================================
// INTEGRATIONS
// ============================================================================

export const IntegrationsSchema = z.object({
  // Analytics
  analytics: z.object({
    googleAnalytics: z.object({
      measurementId: z.string().startsWith('G-').optional(),
      enabled: z.boolean().default(false),
    }).optional(),
    googleAnalytics4: z.object({
      measurementId: z.string().regex(/^G-[A-Z0-9]+$/).optional(),
      enabled: z.boolean().default(false),
    }).optional(),
    googleTagManager: z.object({
      containerId: z.string().startsWith('GTM-').optional(),
      enabled: z.boolean().default(false),
    }).optional(),
    metaPixel: z.object({
      pixelId: z.string().optional(),
      enabled: z.boolean().default(false),
    }).optional(),
    facebookPixel: z.object({
      pixelId: z.string().regex(/^\d+$/).optional(),
      enabled: z.boolean().default(false),
    }).optional(),
    tinybird: z.object({
      enabled: z.boolean().default(true), // Core Web Vitals tracking
      token: z.string().optional(),
    }).optional(),
  }).optional(),

  // CRM
  crm: z.object({
    provider: z.enum(['hubspot', 'salesforce', 'pipedrive', 'webhook', 'none']).default('none'),
    hubspot: z.object({
      portalId: z.string().optional(),
      formId: z.string().optional(),
      formGuid: z.string().optional(),
      apiKey: z.string().optional(), // Encrypted in tenant_secrets
    }).optional(),
    salesforce: z.object({
      enabled: z.boolean(),
      orgId: z.string(),
    }).optional(),
    webhook: z.object({
      url: z.string().url().optional(),
      headers: z.record(z.string()).optional(),
    }).optional(),
  }).optional(),

  // Scheduling
  calendar: z.object({
    calendly: z.object({
      username: z.string().optional(),
      enabled: z.boolean(),
    }).optional(),
    calCom: z.object({
      username: z.string().optional(),
      enabled: z.boolean(),
    }).optional(),
  }).optional(),

  booking: z.object({
    enabled: z.boolean(),
    provider: z.enum(['calendly', 'acuity', 'cal-com', 'custom', 'none']).default('none'),
    url: z.string().url().optional(),
    calendly: z.object({
      username: z.string().optional(),
    }).optional(),
  }).optional(),

  // Payments
  payments: z.object({
    stripe: z.object({
      enabled: z.boolean().default(false),
      publishableKey: z.string().startsWith('pk_').optional(),
      publicKey: z.string().startsWith('pk_').optional(),
      // Secret key stored in tenant_secrets table
    }),
  }).optional(),

  // Email
  email: z.object({
    provider: z.enum(['postmark', 'resend', 'sendgrid']).default('postmark'),
    fromAddress: z.string().email(),
    fromName: z.string().optional(),
    replyToAddress: z.string().email().optional(),
  }).optional(),

  postmark: z.object({
    fromAddress: z.string().email().optional(),
    // API token stored in tenant_secrets table
  }).optional(),

  // Chat
  chat: z.object({
    provider: z.enum(['intercom', 'drift', 'crisp', 'none']).default('none'),
    intercom: z.object({
      appId: z.string().optional(),
    }).optional(),
  }).optional(),

  // Transactional notifications
  webhooks: z.array(
    z.object({
      event: z.enum(['lead.created', 'booking.created', 'form.submitted']),
      url: z.string().url(),
      secret: z.string().optional(), // HMAC signature
    })
  ).default([]),
});

// ============================================================================
// CMS SELECTION
// ============================================================================

export const CMSSchema = z.object({
  provider: z.enum(['sanity', 'storyblok', 'contentful', 'none']).default('sanity'),
  projectId: z.string().optional(),
  dataset: z.string().default('production'),
  apiVersion: z.string().default('2024-01-01'),

  // Sanity-specific
  sanity: z.object({
    projectId: z.string().optional(),
    dataset: z.string().default('production'),
    apiVersion: z.string().default('2024-01-01'),
  }).optional(),

  // Storyblok-specific
  storyblok: z.object({
    spaceId: z.string().optional(),
    accessToken: z.string().optional(),
    region: z.enum(['eu', 'us', 'ap', 'ca']).default('us'),
  }).optional(),
});

// ============================================================================
// BILLING & LIMITS
// ============================================================================

const BillingTierSchema = z.enum(['free', 'starter', 'professional', 'pro', 'enterprise']);

export const BillingSchema = z.object({
  tier: BillingTierSchema.default('starter'),
  plan: z.object({
    monthlyVisits: z.number().int().min(0).default(0),
    monthlyPageViews: z.number().int().min(0).default(0),
    leads: z.number().int().min(0).default(0),
    users: z.number().int().min(0).default(0),
    customDomain: z.boolean().default(false),
  }).optional(),

  // Rate limits (requests per 10 seconds)
  rateLimit: z.number().default(100),

  // Monthly lead cap
  monthlyLeads: z.number().default(1000),

  // Storage quota (GB)
  storageGB: z.number().default(10),

  // Custom domains allowed
  customDomains: z.number().default(1),

  // Stripe
  stripeCustomerId: z.string().startsWith('cus_').optional(),
  stripeSubscriptionId: z.string().startsWith('sub_').optional(),

  // Status
  status: z.enum(['active', 'suspended', 'cancelled', 'trial']).default('trial'),
  billing_status: z.string().optional(),
  billing_tier: z.string().optional(),

  // Trial
  trialEndsAt: z.string().datetime().optional(),
  nextBillingDate: z.string().datetime().optional(),
});

export const LimitsSchema = BillingSchema;

// ============================================================================
// LEAD SCORING & ROUTING
// ============================================================================

export const LeadScoringSchema = z.object({
  enabled: z.boolean().default(true),

  // Event weights
  weights: z.object({
    formSubmit: z.number().int().min(0).max(100).default(50),
    formSubmission: z.number().int().min(0).max(100).default(20),
    phoneClick: z.number().int().min(0).max(100).default(30),
    phoneCall: z.number().int().min(0).max(100).default(20),
    emailClick: z.number().int().min(0).max(100).default(20),
    emailOpen: z.number().int().min(0).max(100).default(2),
    pageView: z.number().int().min(0).max(100).default(5),
    timeOnSite: z.number().int().min(0).max(100).default(1), // Per minute
    linkClick: z.number().int().min(0).max(100).default(5),
    return: z.number().int().min(0).max(100).default(5),
    chatInitiated: z.number().int().min(0).max(100).default(25),
    bookingScheduled: z.number().int().min(0).max(100).default(50),
    pageViewsThreshold: z.number().int().min(1).default(5), // 5+ pages = +10 points
    timeOnSiteThreshold: z.number().int().min(30).default(120), // 2+ minutes = +15 points
  }),

  // Qualification threshold
  qualifiedScore: z.number().int().min(0).max(100).default(100),
  qualificationThreshold: z.number().int().min(0).max(100).default(50), // 50+ = qualified lead

  // Routing
  routing: z.object({
    // Send to CRM
    crmEnabled: z.boolean().default(true),
    crm: z.boolean().default(true),

    // Email notification
    notifyEmail: z.string().email().optional(),
    ownerEmail: z.string().email().optional(),

    // Slack webhook
    slackWebhook: z.string().url().optional(),

    // Auto-assign
    autoAssign: z.boolean().default(false),
    notifyOnQualified: z.boolean().default(true),
  }),
});

// ============================================================================
// NOTIFICATION ROUTING
// ============================================================================

export const NotificationsSchema = z.object({
  email: z.object({
    enabled: z.boolean().default(true),
    newLeadNotification: z.boolean().default(true),
    qualifiedLeadNotification: z.boolean().default(true),
    bookingConfirmation: z.boolean().default(true),
    recipients: z.array(z.string().email()).min(1),
  }),
  slack: z.object({
    enabled: z.boolean().default(false),
    webhookUrl: z.string().url().optional(),
    channels: z.array(z.string()).optional(), // ['#leads', '#sales']
  }).optional(),
  sms: z.object({
    enabled: z.boolean().default(false),
    twilioPhoneNumber: z.string().optional(),
    recipients: z.array(z.string().regex(/^\+?[1-9]\d{1,14}$/)).optional(),
  }).optional(),
});

// ============================================================================
// A/B TESTING
// ============================================================================

export const ABTestSchema = z.object({
  id: z.string(),
  name: z.string(),
  variants: z.array(
    z.object({
      id: z.string(),
      name: z.string(),
      weight: z.number().min(0).max(100), // Percentage
    })
  ),
  status: z.enum(['draft', 'active', 'paused', 'completed']).default('draft'),
  active: z.boolean().default(false),
  startDate: z.string().datetime().optional(),
  endDate: z.string().datetime().optional(),
});

export const ABTestingSchema = z.object({
  enabled: z.boolean().default(false),
  active: z.array(
    z.object({
      id: z.string(),
      name: z.string(),
      variants: z.array(
        z.object({
          id: z.string(),
          name: z.string(),
          weight: z.number().min(0).max(100),
        })
      ).min(2).max(5), // 2-5 variants
      active: z.boolean().default(false),
      startDate: z.string().datetime().optional(),
      endDate: z.string().datetime().optional(),
    })
  ).optional(),
  experiments: z.array(
    z.object({
      id: z.string(),
      name: z.string(),
      variants: z.array(
        z.object({
          id: z.string(),
          name: z.string(),
          weight: z.number().min(0).max(100), // Traffic allocation %
        })
      ).min(2).max(5), // 2-5 variants
      active: z.boolean().default(false),
      startDate: z.string().datetime().optional(),
      endDate: z.string().datetime().optional(),
    })
  ).optional(),
});

// ============================================================================
// COOKIE CONSENT
// ============================================================================

export const CookieConsentSchema = z.object({
  enabled: z.boolean().default(true),

  // Mode
  mode: z.enum(['native', 'overlay']).default('native'), // Native = no overlay (better UX)

  // Native banner (no overlay, WCAG compliant)
  bannerPosition: z.enum(['top', 'bottom']).default('bottom'),

  // Google Consent Mode v2
  googleConsentMode: z.boolean().default(true),
  enableGoogleConsentModeV2: z.boolean().default(true),
  gcmEnabled: z.boolean().default(true),

  // Default consent
  defaultConsent: z.object({
    analytics_storage: z.enum(['granted', 'denied']).default('denied'),
    ad_storage: z.enum(['granted', 'denied']).default('denied'),
    ad_user_ z.enum(['granted', 'denied']).default('denied'),
    ad_personalization: z.enum(['granted', 'denied']).default('denied'),
  }),

  // Categories
  categories: z.object({
    necessary: z.boolean().default(true), // Always enabled
    analytics: z.boolean().default(false),
    marketing: z.boolean().default(false),
    preferences: z.boolean().default(false),
  }),
});

// ============================================================================
// i18n (INTERNATIONALIZATION)
// ============================================================================

export const I18nSchema = z.object({
  defaultLocale: z.string().default('en-US'),
  locales: z.array(z.string()).default(['en-US']),

  // Locale detection
  detectFromBrowser: z.boolean().default(true),
  detectFromDomain: z.boolean().default(false),

  // Multi-location
  multiLocation: z.boolean().default(false),

  // Enable flag
  enabled: z.boolean().default(false),
});

// ============================================================================
// COMPLIANCE
// ============================================================================

export const ComplianceSchema = z.object({
  // WCAG 2.2 AA (April 2026 deadline)
  wcagLevel: z.enum(['A', 'AA', 'AAA']).default('AA'),
  wcag: z.object({
    level: z.enum(['A', 'AA', 'AAA']).default('AA'),
    version: z.string().default('2.2'),
    targetLevel: z.enum(['A', 'AA', 'AAA']).default('AA'),
    enableAccessibilityStatement: z.boolean().default(true),
  }),

  // GDPR
  gdprEnabled: z.boolean().default(true),
  gdpr: z.object({
    enabled: z.boolean().default(true),
    applicable: z.boolean().default(false),
    dataRetentionDays: z.number().int().min(1).max(2555).default(730), // 2 years
    dpaRequired: z.boolean().default(false),
    dpaAccepted: z.boolean().default(false),
    dpaAcceptedAt: z.string().datetime().optional(),
  }),

  // CCPA
  ccpaEnabled: z.boolean().default(false),

  // ADA
  ada: z.object({
    titleII: z.boolean().default(false), // Public entity
  }),

  // DPA required (for EU clients)
  dpaRequired: z.boolean().default(false),

  // Post-Quantum Crypto
  postQuantumReady: z.boolean().default(false),
  pqc: z.object({
    enablePostQuantumCrypto: z.boolean().default(false), // Future-ready flag
    migrationPhase: z.enum(['rsa', 'hybrid', 'pqc']).default('rsa'),
  }),
});

// ============================================================================
// FEATURES (Feature Flags)
// ============================================================================

export const FeaturesSchema = z.object({
  // A/B testing
  enableABTesting: z.boolean().default(false),

  // Cookie consent
  enableCookieConsent: z.boolean().default(true),

  // Lead capture
  enableLeadForms: z.boolean().default(true),

  // Booking system
  enableBooking: z.boolean().default(false),

  // Chat widget
  enableChat: z.boolean().default(false),

  // Blog
  enableBlog: z.boolean().default(true),

  // E-commerce
  enableEcommerce: z.boolean().default(false),

  // Multi-location
  enableMultiLocation: z.boolean().default(false),

  // Forms
  enableForms: z.object({
    contactForm: z.boolean().default(true),
    newsletterSignup: z.boolean().default(false),
    customForms: z.array(z.string()).optional(), // Form IDs
  }),

  // Testimonials
  testimonials: z.boolean().default(false),

  // Gallery
  gallery: z.boolean().default(false),

  // I18n
  enableI18n: z.object({
    enabled: z.boolean().default(false),
    defaultLocale: z.string().default('en-US'),
    locales: z.array(z.string()).default(['en-US']), // BCP 47 language tags
  }),
});

// ============================================================================
// MAIN SITE CONFIG SCHEMA
// ============================================================================

export const SiteConfigSchema = z.object({
  // Version
  version: z.string().default('1.0.0'),

  // Core sections
  identity: IdentitySchema,
  branding: ThemeSchema.optional(),
  theme: ThemeSchema,
  businessInfo: BusinessInfoSchema,
  seo: SEOSchema,
  features: FeaturesSchema,

  // Optional sections
  integrations: IntegrationsSchema.optional(),
  cms: CMSSchema.optional(),
  billing: BillingSchema,
  leadScoring: LeadScoringSchema.optional(),
  notifications: NotificationsSchema.optional(),
  abTests: z.array(ABTestSchema).default([]),
  abTesting: ABTestingSchema.optional(),
  experiments: ABTestingSchema.optional(),
  cookieConsent: CookieConsentSchema,
  i18n: I18nSchema,
  compliance: ComplianceSchema,

  // Metadata
  createdAt: z.date().optional(),
  updatedAt: z.date().optional(),
  createdBy: z.string().email().optional(),
});

export type SiteConfig = z.infer<typeof SiteConfigSchema>;

// Validation helper
export function validateSiteConfig(config: unknown): SiteConfig {
  return SiteConfigSchema.parse(config);
}

export function validateSiteConfigSafe(config: unknown) {
  return SiteConfigSchema.safeParse(config);
}
```

**Why This Schema Matters:**

- Complete configuration: All marketing, compliance, and technical needs in one schema
- Type-safe: TypeScript types automatically generated from Zod
- Validation: CI validates all `site.config.ts` files before deployment
- Extensible: New fields added without breaking existing configs
- Nested Objects: Logical grouping (e.g., `integrations.analytics.googleAnalytics4`)
- Defaults: Sensible defaults for most fields
- Regex Validation: Domain names, phone numbers, email addresses
- Compliance-Ready: GDPR, WCAG, PQC flags

**When to Build:** P0 (Foundation for all client sites)
