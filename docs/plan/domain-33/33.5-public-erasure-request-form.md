### 33.5 Public Erasure Request Form

**File:** `apps/*/src/app/privacy/erasure/page.tsx`

```typescript
import type { Metadata } from 'next';
import { ErasureRequestForm } from '@/components/privacy/ErasureRequestForm';

export const metadata: Metadata = {
  title: 'Data Deletion Request',
  description: 'Request deletion of your personal data.',
  robots: { index: false, follow: false }, // Never index privacy/legal pages
};

export default function ErasureRequestPage() {
  return (
    <main id="main-content" className="max-w-xl mx-auto px-6 py-16">
      <h1 className="text-3xl font-bold text-gray-900 mb-4">
        Request Data Deletion
      </h1>
      <p className="text-gray-600 mb-8">
        Under GDPR Article 17 and CCPA, you have the right to request deletion of
        your personal data. Submit your request below — we'll process it within
        30 days and send confirmation to your email address.
      </p>
      <ErasureRequestForm />
    </main>
  );
}
```

**File:** `apps/*/src/app/api/privacy/erasure/route.ts`

```typescript
import { NextRequest, NextResponse } from 'next/server';
import { z } from 'zod';
import { v4 as uuidv4 } from 'uuid';
import { checkRateLimit } from '@repo/security/rate-limit';
import { resolveTenant } from '@repo/multi-tenant/resolve-tenant';
import { processErasureRequest } from '@repo/privacy/erasure';
import { enqueue } from '@repo/jobs/client';

const ErasureSchema = z.object({
  email: z.string().email(),
  reason: z.string().max(500).optional(),
});

// Rate limit: 3 requests per email per 24h (prevent abuse)
export async function POST(req: NextRequest) {
  const limited = await checkRateLimit(req, 'erasure');
  if (limited) return limited;

  const tenantContext = await resolveTenant(req);
  if (!tenantContext) return NextResponse.json({ error: 'Not found' }, { status: 404 });

  const body = await req.json().catch(() => null);
  const parsed = ErasureSchema.safeParse(body);

  if (!parsed.success) {
    return NextResponse.json({ error: 'Invalid request' }, { status: 400 });
  }

  const requestId = uuidv4();

  // Queue as a job — don't block the HTTP response waiting for DB operations
  await enqueue('erasure.process', {
    requestId,
    tenantId: tenantContext.tenantId,
    subjectEmail: parsed.data.email,
    requestedAt: new Date().toISOString(),
    requestedBy: 'subject',
    reason: parsed.data.reason,
  });

  // Confirmation email (async)
  await enqueue('email.erasure.confirmation', {
    tenantId: tenantContext.tenantId,
    email: parsed.data.email,
    requestId,
  });

  return NextResponse.json({
    success: true,
    requestId,
    message: "Your request has been received. We'll process it within 30 days.",
  });
}
```

---
