### 7.4 Tenant Suspension Pattern

**File:** `sites/[base-site]/src/app/suspended/page.tsx`

```typescript
// Graceful suspended page — shown when billing lapses
// Middleware rewrites to this page (Domain 4 §4.2) — URL preserved in browser
// NOT a redirect — no 301/302 that could harm SEO if tenant reactivates

import type { Metadata } from 'next';
import { headers } from 'next/headers';
import { db } from '@repo/db';

export const metadata: Metadata = {
  title: 'Account Suspended — Maintenance',
  robots: { index: false, follow: false }, // Never index suspended pages
};

async function getSuspendedTenantInfo(tenantId: string) {
  const { data } = await db
    .from('tenants')
    .select('config')
    .eq('id', tenantId)
    .single();

  const config = data?.config as { identity?: { siteName?: string; contact?: { email?: string } } };
  return {
    siteName: config?.identity?.siteName ?? 'This website',
    contactEmail: config?.identity?.contact?.email ?? null,
  };
}

export default async function SuspendedPage() {
  const headersList = await headers();
  const tenantId = headersList.get('X-Tenant-Id') ?? '';

  const { siteName, contactEmail } = await getSuspendedTenantInfo(tenantId);

  return (
    <main
      className="min-h-screen flex items-center justify-center bg-gray-50 px-4"
      aria-labelledby="suspended-heading"
    >
      <div className="max-w-md w-full text-center">
        {/* Logo placeholder — tenant branding preserved */}
        <div className="h-16 w-16 bg-gray-200 rounded-full mx-auto mb-6 flex items-center justify-center">
          <span className="text-2xl" aria-hidden="true">⚠️</span>
        </div>

        <h1 id="suspended-heading" className="text-2xl font-bold text-gray-900 mb-3">
          {siteName} is temporarily unavailable
        </h1>

        <p className="text-gray-600 mb-6">
          This website is currently undergoing maintenance. Please check back shortly.
        </p>

        {contactEmail && (
          <p className="text-sm text-gray-500">
            For assistance, contact{' '}
            <a
              href={`mailto:${contactEmail}`}
              className="text-blue-600 hover:underline focus-visible:ring-2 focus-visible:ring-blue-500 rounded"
            >
              {contactEmail}
            </a>
          </p>
        )}

        {/* Hidden div for internal operators — only visible with ?debug=1 */}
        {/* Never expose suspension reason publicly */}
      </div>
    </main>
  );
}
```

---
