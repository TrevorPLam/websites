### 3.4 Steiger CI Integration

**What it is:** Steiger is the official FSD linter (introduced 2024, mature by 2026) that detects:

- `insignificant-slice` (slice with <3 files → should be merged)
- `excessive-slicing` (too many tiny slices → reduce granularity)
- Forbidden cross-layer imports

**Installation:**

```bash
pnpm add -D @feature-sliced/steiger
```

**File:** `.steiger.json` (or `.steiger/config.json`)

```json
{
  "root": "packages/ui/src",
  "layers": {
    "order": ["shared", "entities", "features", "widgets", "pages", "app"]
  },
  "rules": {
    "insignificant-slice": "error",
    "excessive-slicing": "warn",
    "no-cross-imports": "error",
    "no-upper-layer-imports": "error"
  }
}
```

**Alternative Configuration:**

```json
{
  "rules": {
    "fsd/insignificant-slice": [
      "error",
      {
        "minExports": 3,
        "minFiles": 3
      }
    ],
    "fsd/excessive-slicing": [
      "warn",
      {
        "maxSlicesPerLayer": {
          "features": 15,
          "entities": 10,
          "widgets": 8
        }
      }
    ],
    "fsd/forbidden-imports": [
      "error",
      {
        "allowSameLayerImports": true,
        "requirePublicApi": true
      }
    ]
  }
}
```

**Steiger Rules Explained:**

| Rule                   | What It Catches                     | Severity |
| ---------------------- | ----------------------------------- | -------- |
| insignificant-slice    | Slices with <3 files (over-slicing) | error    |
| excessive-slicing      | Too many similar small slices       | warn     |
| no-cross-imports       | Same-layer imports without @x       | error    |
| no-upper-layer-imports | Feature importing from widget       | error    |

**CI Step:**

**File:** `.github/workflows/ci.yml` (excerpt)

```yaml
jobs:
  lint-fsd:
    name: Feature-Sliced Design Lint
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - uses: pnpm/action-setup@v4
        with:
          version: 10

      - uses: actions/setup-node@v4
        with:
          node-version: 22
          cache: 'pnpm'

      - run: pnpm install --frozen-lockfile

      - name: Run Steiger
        run: pnpm turbo run lint:fsd
```

**Package Script:**

**File:** `packages/ui/package.json`

```json
{
  "scripts": {
    "lint:fsd": "steiger ."
  }
}
```

**When to Build:** P0.5 (After initial FSD structure exists)

## Implementation Status

- Status: ✅ Complete
- QA: ✅ Completed
- Related files:
  - `steiger.config.ts`
  - `package.json`
