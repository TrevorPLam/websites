---
name: contributing-guide
description: |
  **CONTRIBUTION GUIDELINES** - Development workflow and contribution process.
  USE FOR: Onboarding new developers, establishing development standards.
  DO NOT USE FOR: Quick fixes - follow established patterns.
  INVOKES: git, pnpm, typescript, nextjs.
meta:
  version: "1.0.0"
  author: "cascade-ai"
  category: "guidelines"
  type: "contributing"
  framework: "feature-sliced-design"
  language: "typescript"
  ai_optimized: true
  bimodal_documentation: true
  human_ttv: "good"
  ai_readiness: "optimized"
  rag_optimization: "enabled"
compliance:
  frameworks: ["fsd-v2.1", "nextjs-16", "react-19"]
  security: ["oauth-2.1", "rls", "tenant-isolation"]
  performance: ["core-web-vitals", "lcp-2.5s", "inp-200ms", "cls-0.1"]
  accessibility: ["wcag-2.2-aa", "screen-reader"]
  testing: ["unit", "integration", "e2e"]
  documentation: ["bimodal", "ai-optimized"]
workflow:
  type: "development"
  phases: ["branch", "develop", "test", "review", "merge"]
  tools: ["git", "pnpm", "typescript", "nextjs"]
---

# Contributing Guide

Thanks for contributing to the Marketing Monorepo.

## Development prerequisites

- Node.js >= 22.0.0
- pnpm 10.29.2
- Read `README.md` and `TODO.md` before significant changes.

## Architecture rules

- Follow Feature-Sliced Design boundaries: `app → pages → widgets → features → entities → shared`.
- Prefer package public exports (`index.ts`) and avoid deep imports.
- Keep tenant isolation explicit in data-access code.
- Use approved validation and server action wrappers for input handling.

## Workflow

1. Create a branch from `develop`.
2. Pick tasks from `TODO.md` and reference task IDs in commits and PRs.
3. Implement in small, reviewable commits.
4. Run focused QA for changed scope.
5. Update relevant task files and `TODO.md`.

## Code standards

- Use strict TypeScript and avoid `any` unless justified and documented.
- Write comments that explain **why**, not obvious **what**.
- Follow `docs/guides/best-practices/docstring-standards.md` for docstrings.
- Use Conventional Comments in reviews.

## File header requirements

- Add standard file headers to new source files and major rewrites.
- Template: `docs/guides/best-practices/file-header-template.md`.
- Include metadata fields such as `@security`, `@adr`, and `@requirements` where applicable.

## Commit style

Use Conventional Commits:

- `feat:` for features
- `fix:` for bug fixes
- `docs:` for documentation
- `refactor:` for non-functional structural improvements
- `test:` for test additions/changes
- `chore:` for maintenance

## Pull request expectations

- Use `.github/PULL_REQUEST_TEMPLATE.md`.
- Link related issue/task IDs.
- Document scope, risks, and rollback notes.
- Add screenshots for visual UI changes.

## Required local checks

Run at minimum:

```bash
pnpm format:check
pnpm lint
pnpm type-check
pnpm test
pnpm validate-docs
```

Run additional checks when relevant:

```bash
pnpm validate-exports
pnpm validate:configs
pnpm validate-all-clients
pnpm test:e2e
```

## Security and compliance

- Never commit secrets; use environment variables and tenant-scoped configuration.
- Follow `SECURITY.md` for vulnerability disclosure.
- Ensure GDPR/privacy-sensitive changes include auditability and deletion paths when required.

## Documentation requirements

- Keep docs in version control and update them with code changes.
- Prefer Markdown and include cross-links to related architecture/task docs.
- Add or update task files under `docs/plan/` as work is completed.

## Label taxonomy

Use repository labels from `.github/labels.yml`:

- `type:*` for work classification
- `priority:*` for urgency
- `area:*` for ownership surface
- `status:*` for execution state

Labels are synchronized by `.github/workflows/label-sync.yml`.

## Versioning and release notes

- This monorepo follows Semantic Versioning via Changesets (`.changeset/config.json`).
- Add a changeset for user-facing package changes.
- Automated release notes are generated by Release Drafter (`.github/release-drafter.yml`).

## Technology Stack

- **Next.js**: 16.1.5 with App Router, PPR, React Compiler
- **React**: 19.0.0 with Server Components
- **TypeScript**: 5.9.3 strict mode
- **pnpm**: 10.29.2 workspace management
- **Turbo**: 2.4.0 build orchestration
- **Tailwind CSS**: v4.1.0 with design tokens

## Architecture Overview

### Multi-Tenant SaaS Platform
- **Tenant Isolation**: Complete data separation via Row Level Security (RLS)
- **Authentication**: OAuth 2.1 with PKCE for all authentication flows
- **Rate Limiting**: Tiered rate limiting per tenant with sliding window algorithms
- **Security**: Zero-trust dependency management with automated vulnerability scanning

### Feature-Sliced Design v2.1
- **app/**: App Router layouts and pages
- **pages/**: Route-level components
- **widgets/**: Composed features
- **features/**: Business logic and features
- **entities/**: Domain models and types
- **shared/**: Shared utilities and types

### Package Structure
- **45+ packages** with catalog dependency management
- **Workspace isolation** with proper TypeScript path mappings
- **Cross-package dependencies** managed via `pnpm workspaces`

## Quality Gates

### Code Quality
- **TypeScript**: 100% strict mode compliance
- **ESLint**: Custom rules for FSD compliance and security
- **Prettier**: Consistent code formatting
- **Husky**: Pre-commit hooks for quality

### Testing
- **Unit Tests**: Component and function testing with Vitest
- **Integration Tests**: API and database testing
- **E2E Tests**: Full user journey testing with Playwright
- **Accessibility Tests**: axe-core compliance testing
- **Coverage**: >80% target for all packages

### Performance
- **Core Web Vitals**: LCP <2.5s, INP <200ms, CLS <0.1
- **Bundle Size**: Enforced budgets for all applications
- **Build Performance**: Optimized with Turbo caching
- **Runtime Performance**: Server Components and code splitting

## Getting help

- Open a GitHub issue using the provided templates.
- For security concerns, follow the private disclosure process in `SECURITY.md`.
- Check `docs/guides/` for comprehensive documentation.
- Review `README.md` for project overview and setup.
